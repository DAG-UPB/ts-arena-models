services:
  moirai-template: &moirai-template
    extends:
      file: base.yml
      service: gpu-model-base
    image: moirai
    build:
      context: ../model-services/moirai
      dockerfile: Dockerfile
    profiles: ["moirai", "all-models"]

  moirai-small:
    <<: *moirai-template
    environment:
      - MODEL_ID=Salesforce/moirai-1.1-R-small

  moirai-base-model:
    <<: *moirai-template
    environment:
      - MODEL_ID=Salesforce/moirai-1.1-R-base

  moirai-large:
    <<: *moirai-template
    environment:
      - MODEL_ID=Salesforce/moirai-1.1-R-large

  moirai-2-small:
    <<: *moirai-template
    environment:
      - MODEL_ID=Salesforce/moirai-2.0-R-small

